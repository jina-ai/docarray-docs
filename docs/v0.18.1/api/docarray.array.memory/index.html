<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="docarray.array.memory module" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docarray.jina.ai/api/docarray.array.memory/" />
<meta property="og:site_name" content="DocArray 0.18.1 Documentation" />
<meta property="og:image" content="https://docarray.jina.ai/_static/banner.png" />
<meta property="og:image:alt" content="DocArray 0.18.1 Documentation" />
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description" content="DocArray is a library for nested, unstructured data such as text, image, audio, video, 3D mesh.">
<meta property="og:description" content="DocArray is a library for nested, unstructured data such as text, image, audio, video, 3D mesh. It allows deep learning engineers to easily preprocess, embed, search, recommend and transfer the data.">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-48WE9V68SD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-48WE9V68SD');
</script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" />
        <link rel="canonical" href="https://docarray.jina.ai/api/docarray.array.memory.html" />

    <link rel="shortcut icon" href="../../_static/favicon.png"/><!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>docarray.array.memory module - DocArray 0.18.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../_static/main.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: #4d4d4d;
  --color-brand-primary: #009191;
  --color-brand-content: #009191;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
    <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
    <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
    <header class="mobile-header">
        <div class="header-left">
            <label class="nav-overlay-icon" for="__navigation">
                <div class="visually-hidden">Toggle site navigation sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-menu"></use>
                    </svg>
                </i>
            </label>
        </div>
        <div class="header-center">
            <a href="../../">
                <div class="brand">DocArray 0.18.1 documentation</div>
            </a>
        </div>
        <div class="header-right">
            <div class="theme-toggle-container theme-toggle-header">
                <button class="theme-toggle">
                    <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                    <svg class="theme-icon-when-auto">
                        <use href="#svg-sun-half"></use>
                    </svg>
                    <svg class="theme-icon-when-dark">
                        <use href="#svg-moon"></use>
                    </svg>
                    <svg class="theme-icon-when-light">
                        <use href="#svg-sun"></use>
                    </svg>
                </button>
            </div>
            <label class="toc-overlay-icon toc-header-icon" for="__toc">
                <div class="visually-hidden">Toggle table of contents sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-toc"></use>
                    </svg>
                </i>
            </label>
        </div>
    </header>
    <aside class="sidebar-drawer">
        <div class="sidebar-container">
            
            <div class="sidebar-sticky"><a class="sidebar-brand" href="../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/logo-light.svg" alt="Light Logo" />
    <img class="sidebar-logo only-dark" src="../../_static/logo-dark.svg" alt="Dark Logo" />
  </div>
  
  
</a>
<script>
  function setPrefix(prefix){
    window.location.href = prefix
  }
</script>
<script defer>
  fetch(`https://${window.location.host}/_versions.json`)
  .then((resp) => resp.json())
  .then((data) => {
    var versionSelector = document.getElementsByClassName("version-select")[0];
    var currentPrefix = window.location.href.toString().split(window.location.host)[1].split('/')[1];

    for(var i = 0; i < data.length; i++){
      var option = document.createElement("option");
      option.innerHTML = data[i].version;
      option.value = "/" + data[i].version;
      versionSelector.appendChild(option);
      if(currentPrefix === data[i].version){
        versionSelector.selectedIndex = i + 1;
      }
    }
  })
  .catch((err) => console.log(err));
</script>
<div class="sd-d-flex-row sd-align-major-spaced">
  <a class="github-button" href="https://github.com/jina-ai/docarray" data-icon="octicon-star" data-show-count="true" aria-label="Star jina-ai/jina on GitHub" style="opacity: 0;">Star</a>
  <select onChange="setPrefix(this.value)" class="version-select">
    <option value="/">latest</option>
  </select>
</div><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
    <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/what-is/">What is DocArray?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/what-is/#comparing-to-alternatives">Comparing to Alternatives</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/install/">Install</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../datatypes/">Multimodal Data</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../datatypes/text/"><svg aria-hidden="true" class="sd-octicon sd-octicon-typography" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M6.21 8.5L4.574 3.594 2.857 8.5H6.21zm.5 1.5l.829 2.487a.75.75 0 001.423-.474L5.735 2.332a1.216 1.216 0 00-2.302-.018l-3.39 9.688a.75.75 0 001.415.496L2.332 10H6.71zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 01-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 11-1.32-.716zM14.5 9H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551V9z" fill-rule="evenodd"></path></svg> Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datatypes/image/"><svg aria-hidden="true" class="sd-octicon sd-octicon-image" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M1.75 2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h.94a.76.76 0 01.03-.03l6.077-6.078a1.75 1.75 0 012.412-.06L14.5 10.31V2.75a.25.25 0 00-.25-.25H1.75zm12.5 11H4.81l5.048-5.047a.25.25 0 01.344-.009l4.298 3.889v.917a.25.25 0 01-.25.25zm1.75-.25V2.75A1.75 1.75 0 0014.25 1H1.75A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25zM5.5 6a.5.5 0 11-1 0 .5.5 0 011 0zM7 6a2 2 0 11-4 0 2 2 0 014 0z" fill-rule="evenodd"></path></svg> Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datatypes/video/"><svg aria-hidden="true" class="sd-octicon sd-octicon-device-camera-video" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M16 3.75a.75.75 0 00-1.136-.643L11 5.425V4.75A1.75 1.75 0 009.25 3h-7.5A1.75 1.75 0 000 4.75v6.5C0 12.216.784 13 1.75 13h7.5A1.75 1.75 0 0011 11.25v-.675l3.864 2.318A.75.75 0 0016 12.25v-8.5zm-5 5.075l3.5 2.1v-5.85l-3.5 2.1v1.65zM9.5 6.75v-2a.25.25 0 00-.25-.25h-7.5a.25.25 0 00-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-4.5z" fill-rule="evenodd"></path></svg> Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datatypes/audio/"><svg aria-hidden="true" class="sd-octicon sd-octicon-unmute" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M7.563 2.069A.75.75 0 018 2.75v10.5a.75.75 0 01-1.238.57L3.472 11H1.75A1.75 1.75 0 010 9.25v-2.5C0 5.784.784 5 1.75 5h1.723l3.289-2.82a.75.75 0 01.801-.111zM6.5 4.38L4.238 6.319a.75.75 0 01-.488.181h-2a.25.25 0 00-.25.25v2.5c0 .138.112.25.25.25h2a.75.75 0 01.488.18L6.5 11.62V4.38zm6.096-2.038a.75.75 0 011.06 0 8 8 0 010 11.314.75.75 0 01-1.06-1.06 6.5 6.5 0 000-9.193.75.75 0 010-1.06v-.001zm-1.06 2.121a.75.75 0 10-1.061 1.061 3.5 3.5 0 010 4.95.75.75 0 101.06 1.06 5 5 0 000-7.07l.001-.001z" fill-rule="evenodd"></path></svg> Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datatypes/mesh/"><svg aria-hidden="true" class="sd-octicon sd-octicon-package" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z" fill-rule="evenodd"></path></svg> 3D Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datatypes/tabular/"><svg aria-hidden="true" class="sd-octicon sd-octicon-table" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v3.585a.746.746 0 010 .83v8.085A1.75 1.75 0 0114.25 16H6.309a.748.748 0 01-1.118 0H1.75A1.75 1.75 0 010 14.25V6.165a.746.746 0 010-.83V1.75zM1.5 6.5v7.75c0 .138.112.25.25.25H5v-8H1.5zM5 5H1.5V1.75a.25.25 0 01.25-.25H5V5zm1.5 1.5v8h7.75a.25.25 0 00.25-.25V6.5h-8zm8-1.5h-8V1.5h7.75a.25.25 0 01.25.25V5z" fill-rule="evenodd"></path></svg> Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datatypes/multimodal/"><svg aria-hidden="true" class="sd-octicon sd-octicon-stack" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M7.122.392a1.75 1.75 0 011.756 0l5.003 2.902c.83.481.83 1.68 0 2.162L8.878 8.358a1.75 1.75 0 01-1.756 0L2.119 5.456a1.25 1.25 0 010-2.162L7.122.392zM8.125 1.69a.25.25 0 00-.25 0l-4.63 2.685 4.63 2.685a.25.25 0 00.25 0l4.63-2.685-4.63-2.685zM1.601 7.789a.75.75 0 011.025-.273l5.249 3.044a.25.25 0 00.25 0l5.249-3.044a.75.75 0 01.752 1.298l-5.248 3.044a1.75 1.75 0 01-1.756 0L1.874 8.814A.75.75 0 011.6 7.789zm0 3.5a.75.75 0 011.025-.273l5.249 3.044a.25.25 0 00.25 0l5.249-3.044a.75.75 0 01.752 1.298l-5.248 3.044a1.75 1.75 0 01-1.756 0l-5.248-3.044a.75.75 0 01-.273-1.025z" fill-rule="evenodd"></path></svg> Multi-modal</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../fundamentals/document/">Document</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/document/construct/">Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/document/serialization/">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/document/attribute/">Access Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/document/embedding/">Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/document/nested/">Nested Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/document/visualization/">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/document/fluent-interface/">Fluent Interface</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../fundamentals/documentarray/">DocumentArray</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/construct/">Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/serialization/">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/access-elements/">Access Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/access-attributes/">Access Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/find/">Query by Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/parallelization/">Parallelization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/visualization/">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/post-external/">Process via External Flow or Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/embedding/">Embed via Neural Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/matching/">Find Nearest Neighbours</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/subindex/">Search over Nested Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/documentarray/evaluation/">Evaluate Matches</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../fundamentals/dataclass/">Dataclass</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/dataclass/construct/">Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/dataclass/access/">Access Modality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/dataclass/new-type/">Support New Modality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentals/dataclass/example/">Process Modality</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../advanced/document-store/">Document Store</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/sqlite/">SQLite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/annlite/">Annlite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/qdrant/">Qdrant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/elasticsearch/">Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/weaviate/">Weaviate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/redis/">Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/extend/">Add New Document Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/document-store/benchmark/">One Million Scale Benchmark</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Integrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fundamentals/jina-support/">Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fundamentals/notebook-support/">Jupyter Notebook/Colab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/torch-support/">PyTorch/Deep Learning Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fundamentals/fastapi-support/">FastAPI/Pydantic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/graphql-support/">GraphQL</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../"><span class="fab fa-python"></span> Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../proto/">Protocol Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/">Changelog</a></li>
</ul>

    <p class="caption" role="heading"><span class="caption-text">Ecosystem</span></p>
    <ul>
        <li class="toctree-l1">
            <a class="reference external" href="https://docs.jina.ai">
                <img class="sidebar-ecosys-logo only-light-line" src="../../_static/search-light.svg">
                <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/search-dark.svg">
                Jina</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://hub.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/hub-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/hub-dark.svg">
            Jina Hub</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://finetuner.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/finetuner-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/finetuner-dark.svg">
            Finetuner</a></li>
        <li class="toctree-l1"><a class="reference internal" href="#">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/docarray-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/docarray-dark.svg">
            DocArray</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://clip-as-service.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/cas-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/cas-dark.svg">
            CLIP-as-service</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://github.com/jina-ai/jcloud">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/JCloud-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/JCloud-dark.svg">
            JCloud</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://github.com/jina-ai/now">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/now-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/now-dark.svg">
            NOW</a></li>
    </ul>
</div>
</div>

            </div>
            
        </div>
    </aside>
    <div class="main">
        <div class="content">
            <div class="article-container">
                <a href="#" class="back-to-top muted-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
                    </svg>
                    <span>Back to top</span>
                </a>
                <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
                        <button class="theme-toggle">
                            <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                            <svg class="theme-icon-when-auto">
                                <use href="#svg-sun-half"></use>
                            </svg>
                            <svg class="theme-icon-when-dark">
                                <use href="#svg-moon"></use>
                            </svg>
                            <svg class="theme-icon-when-light">
                                <use href="#svg-sun"></use>
                            </svg>
                        </button>
                    </div>
                    <label class="toc-overlay-icon toc-content-icon"
                           for="__toc">
                        <div class="visually-hidden">Toggle table of contents sidebar</div>
                        <i class="icon">
                            <svg>
                                <use href="#svg-toc"></use>
                            </svg>
                        </i>
                    </label>
                </div>
                <article role="main">
                    <section id="module-docarray.array.memory">
<span id="docarray-array-memory-module"></span><h1>docarray.array.memory module<a class="headerlink" href="#module-docarray.array.memory" title="Permalink to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docarray.array.memory.</span></span><span class="sig-name descname"><span class="pre">DocumentArrayInMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'memory'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/docarray/array/memory/#DocumentArrayInMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../docarray.array.storage.memory/#docarray.array.storage.memory.StorageMixins" title="docarray.array.storage.memory.StorageMixins"><code class="xref py py-class docutils literal notranslate"><span class="pre">StorageMixins</span></code></a>, <a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a></p>
<p>Default DocumentArray that stores Documents in memory.
With this implementation, <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.match" title="docarray.array.memory.DocumentArrayInMemory.match"><code class="xref py py-meth docutils literal notranslate"><span class="pre">match()</span></code></a> and <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.find" title="docarray.array.memory.DocumentArrayInMemory.find"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find()</span></code></a> perform exact (exhaustive) vector search.</p>
<p>Example usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span><span class="p">,</span> <span class="n">DocumentArray</span>

<span class="n">da</span> <span class="o">=</span> <span class="n">DocumentArray</span><span class="p">(</span>
    <span class="p">[</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;The cake is a lie&#39;</span><span class="p">),</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Do a barrel roll!&#39;</span><span class="p">)]</span>
<span class="p">)</span>
<span class="n">da</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">Document</span><span class="o">.</span><span class="n">embed_feature_hashing</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Can i have some cake?&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">embed_feature_hashing</span><span class="p">()</span>
<span class="n">query</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">da</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;jaccard&#39;</span><span class="p">,</span> <span class="n">use_scipy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">matches</span><span class="p">[:,</span> <span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;scores__jaccard__value&#39;</span><span class="p">)])</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[[</span><span class="s1">&#39;The cake is a lie&#39;</span>,<span class="w"> </span><span class="s1">&#39;Do a barrel roll!&#39;</span><span class="o">]</span>,<span class="w"> </span><span class="o">[</span><span class="m">0</span>.9,<span class="w"> </span><span class="m">1</span>.0<span class="o">]]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For further details, see our <a class="reference internal" href="../../fundamentals/documentarray/#documentarray"><span class="std std-ref">user guide</span></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.append" title="Permalink to this definition">#</a></dt>
<dd><p>Append <cite>doc</cite> to the end of the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference internal" href="../docarray.document/#docarray.document.Document" title="docarray.document.Document"><code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code></a>) – The doc needs to be appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.apply" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR102
# noqa: DAR101
# noqa: DAR201
:rtype: T
:return: a new <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.apply_batch">
<span class="sig-name descname"><span class="pre">apply_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.apply_batch" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR102
# noqa: DAR101
# noqa: DAR201
:rtype: T
:return: a new <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.batch">
<span class="sig-name descname"><span class="pre">batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.batch" title="Permalink to this definition">#</a></dt>
<dd><p>Creates a <cite>Generator</cite> that yields <cite>DocumentArray</cite> of size <cite>batch_size</cite> until <cite>docs</cite> is fully traversed along
the <cite>traversal_path</cite>. The None <cite>docs</cite> are filtered out and optionally the <cite>docs</cite> can be filtered by checking for
the existence of a <cite>Document</cite> attribute.
Note, that the last batch might be smaller than <cite>batch_size</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Size of each generated batch (except the last one, which might be smaller, default: 32)</p></li>
<li><p><strong>shuffle</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If set, shuffle the Documents before dividing into minibatches.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, show a progress bar when batching documents.</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>a Generator of <cite>DocumentArray</cite>, each in the length of <cite>batch_size</cite></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.batch_ids">
<span class="sig-name descname"><span class="pre">batch_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.batch_ids" title="Permalink to this definition">#</a></dt>
<dd><p>Creates a <cite>Generator</cite> that yields <cite>lists of ids</cite> of size <cite>batch_size</cite> until <cite>self</cite> is fully traversed.
Note, that the last batch might be smaller than <cite>batch_size</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Size of each generated batch (except the last one, which might be smaller)</p></li>
<li><p><strong>shuffle</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If set, shuffle the Documents before dividing into minibatches.</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>a Generator of <cite>list</cite> of IDs, each in the length of <cite>batch_size</cite></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.blobs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blobs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.blobs" title="Permalink to this definition">#</a></dt>
<dd><p>Get the blob attribute of all Documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of blobs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.clear" title="Permalink to this definition">#</a></dt>
<dd><p>Clear the data of <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.cloud_delete">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cloud_delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.cloud_delete" title="Permalink to this definition">#</a></dt>
<dd><p>Delete a DocumentArray from the cloud.
:type name: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>
:param name: the name of the DocumentArray to delete.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.cloud_list">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cloud_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.cloud_list" title="Permalink to this definition">#</a></dt>
<dd><p>List all available arrays in the cloud.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>show_table</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, show the table of the arrays.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of available DocumentArray’s names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.cloud_pull">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cloud_pull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.cloud_pull" title="Permalink to this definition">#</a></dt>
<dd><p>Pulling a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> from Jina Cloud Service to local.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the upload name set during <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.push" title="docarray.array.memory.DocumentArrayInMemory.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a></p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show a progress bar on pulling</p></li>
<li><p><strong>local_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – store the downloaded DocumentArray to local folder</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.cloud_push">
<span class="sig-name descname"><span class="pre">cloud_push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">branding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.cloud_push" title="Permalink to this definition">#</a></dt>
<dd><p>Push this DocumentArray object to Jina Cloud which can be later retrieved via <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.push" title="docarray.array.memory.DocumentArrayInMemory.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Push with the same <code class="docutils literal notranslate"><span class="pre">name</span></code> will override the existing content.</p></li>
<li><p>Kinda like a public clipboard where everyone can override anyone’s content.
So to make your content survive longer, you may want to use longer &amp; more complicated name.</p></li>
<li><p>The lifetime of the content is not promised atm, could be a day, could be a week. Do not use it for
persistence. Only use this full temporary transmission/storage/clipboard.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a name that later can be used for retrieve this <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show a progress bar on pulling</p></li>
<li><p><strong>public</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – by default anyone can pull a DocumentArray if they know its name.
Setting this to False will allow only the creator to pull it. This feature of course you to login first.</p></li>
<li><p><strong>branding</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – a dict of branding information to be sent to Jina Cloud. {“icon”: “emoji”, “background”: “#fff”}</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.contents">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">contents</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">DocumentContentType</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ArrayType</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.contents" title="Permalink to this definition">#</a></dt>
<dd><p>Get the <a class="reference internal" href="../docarray.document/#docarray.document.Document.content" title="docarray.document.Document.content"><code class="xref py py-attr docutils literal notranslate"><span class="pre">content</span></code></a> of all Documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[DocumentContentType], ArrayType, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of texts, blobs or <code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.count">
<span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">integer</span> <span class="pre">--</span> <span class="pre">return</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">occurrences</span> <span class="pre">of</span> <span class="pre">value</span></span></span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.count" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.dataloader">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataloader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'protobuf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thread'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_worker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.dataloader" title="Permalink to this definition">#</a></dt>
<dd><p>Load array elements, batches and maps them with a function in parallel, finally yield the batch in DocumentArray</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>]) – Path or filename where the data is stored.</p></li>
<li><p><strong>func</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a>], T]) – a function that takes <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> as input and outputs anything. You can either modify elements
in-place (only with <cite>thread</cite> backend) or work later on return elements.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Size of each generated batch (except the last one, which might be smaller)</p></li>
<li><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – protocol to use</p></li>
<li><p><strong>compress</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – compress algorithm to use</p></li>
<li><p><strong>backend</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <p>if to use multi-<cite>process</cite> or multi-<cite>thread</cite> as the parallelization backend. In general, if your
<code class="docutils literal notranslate"><span class="pre">func</span></code> is IO-bound then perhaps <cite>thread</cite> is good enough. If your <code class="docutils literal notranslate"><span class="pre">func</span></code> is CPU-bound then you may use <cite>process</cite>.
In practice, you should try yourselves to figure out the best value. However, if you wish to modify the elements
in-place, regardless of IO/CPU-bound, you should always use <cite>thread</cite> backend.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using <cite>process</cite> backend, you should not expect <code class="docutils literal notranslate"><span class="pre">func</span></code> modify elements in-place. This is because
the multiprocessing backing pass the variable via pickle and work in another process. The passed object
and the original object do <strong>not</strong> share the same memory.</p>
</div>
</p></li>
<li><p><strong>num_worker</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the number of parallel workers. If not given, then the number of CPUs in the system will be used.</p></li>
<li><p><strong>pool</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[Pool, ThreadPool, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – use an existing/external pool. If given, <cite>backend</cite> is ignored and you will be responsible for closing the pool.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, show a progressbar</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.embed">
<span class="sig-name descname"><span class="pre">embed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cpu'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collate_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.embed" title="Permalink to this definition">#</a></dt>
<dd><p>Fill <a class="reference internal" href="../docarray.document/#docarray.document.Document.embedding" title="docarray.document.Document.embedding"><code class="xref py py-attr docutils literal notranslate"><span class="pre">embedding</span></code></a> of Documents inplace by using <cite>embed_model</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embed_model</strong> (<em>AnyDNN</em>) – the embedding model written in Keras/Pytorch/Paddle</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the computational device for <cite>embed_model</cite>, can be either
<cite>cpu</cite> or <cite>cuda</cite>.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of Documents in a batch for embedding</p></li>
<li><p><strong>to_numpy</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to store embeddings back to Document in <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or original framework format.</p></li>
<li><p><strong>collate_fn</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[CollateFnType]) – create a mini-batch of Input(s) from the given <cite>DocumentArray</cite>.  Default built-in collate_fn
is to use the <cite>tensors</cite> of the documents.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>itself after modified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.embeddings">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">embeddings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ArrayType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.embeddings" title="Permalink to this definition">#</a></dt>
<dd><p>Return a <code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayType</span></code> stacking all the <cite>embedding</cite> attributes as rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[ArrayType]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayType</span></code> of embedding</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.empty">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">empty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.empty" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>  object with <code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code> empty
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the number of empty Documents in this container</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_truth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.evaluate" title="Permalink to this definition">#</a></dt>
<dd><p>Compute ranking evaluation metrics for a given <cite>DocumentArray</cite> when compared
with a groundtruth.</p>
<p>If one provides a <cite>ground_truth</cite> DocumentArray that is structurally identical
to <cite>self</cite>, this function compares the <cite>matches</cite> of <cite>documents</cite> inside the
<cite>DocumentArray</cite> to this <cite>ground_truth</cite>.
Alternatively, one can directly annotate the documents by adding labels in the
form of tags with the key specified in the <cite>label_tag</cite> attribute.
Those tags need to be added to <cite>self</cite> as well as to the documents in the
matches properties.</p>
<p>This method will fill the <cite>evaluations</cite> field of Documents inside this
<cite>DocumentArray</cite> and will return the average of the computations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metrics</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]) – list of metric names or metric functions to be computed</p></li>
<li><p><strong>ground_truth</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a>]) – The ground_truth <cite>DocumentArray</cite> that the <cite>DocumentArray</cite>
compares to.</p></li>
<li><p><strong>hash_fn</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<a class="reference internal" href="../docarray.document/#docarray.document.Document" title="docarray.document.Document"><code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code></a>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – The function used for identifying the uniqueness of Documents.
If not given, then <code class="docutils literal notranslate"><span class="pre">Document.id</span></code> is used.</p></li>
<li><p><strong>metric_names</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – If provided, the results of the metrics computation will be
stored in the <cite>evaluations</cite> field of each Document with this names. If not
provided, the names will be derived from the metric function names.</p></li>
<li><p><strong>strict</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If set, then left and right sides are required to be fully
aligned: on the length, and on the semantic of length. These are preventing
you to evaluate on irrelevant matches accidentally.</p></li>
<li><p><strong>label_tag</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Specifies the tag which contains the labels.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments to be passed to the metric
functions.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary which stores for each metric name the average evaluation
score.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.extend" title="Permalink to this definition">#</a></dt>
<dd><p>S.extend(iterable) – extend sequence by appending elements from the iterable</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.find">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cosine'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_self</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.find" title="Permalink to this definition">#</a></dt>
<dd><p>Returns matching Documents given an input query.
If the query is a <cite>DocumentArray</cite>, <cite>Document</cite> or <cite>ArrayType</cite>, exhaustive or approximate nearest neighbor search
will be performed depending on whether the storage backend supports ANN. Furthermore, if filter is not None,
pre-filtering will be applied along with vector search.
If the query is a <cite>dict</cite> object or, query is None and filter is not None, Documents will be filtered and all
matching Documents that match the filter will be returned. In this case, query (if it’s dict) or filter will be
used for filtering. The object must follow the backend-specific filter format if the backend supports filtering
or DocArray’s query language format. In the latter case, filtering will be applied in the client side not the
backend side.
If the query is a string or list of strings, a search by text will be performed if the backend supports
indexing and searching text fields. If not, a <cite>NotImplementedError</cite> will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[DocumentArray, Document, ArrayType, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the input query to search by</p></li>
<li><p><strong>limit</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the maximum number of matches, when not given defaults to 20.</p></li>
<li><p><strong>metric_name</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – if provided, then match result will be marked with this string.</p></li>
<li><p><strong>metric</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[ArrayType, ArrayType], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]) – the distance metric.</p></li>
<li><p><strong>exclude_self</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, Documents in results with same <code class="docutils literal notranslate"><span class="pre">id</span></code> as the query values will not be
considered as matches. This is only applied when the input query is Document or DocumentArray.</p></li>
<li><p><strong>filter</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – filter query used for pre-filtering or filtering</p></li>
<li><p><strong>only_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, then returning matches will only contain <code class="docutils literal notranslate"><span class="pre">id</span></code></p></li>
<li><p><strong>index</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – if the query is a string, text search will be performed on the <cite>index</cite> field, otherwise, this
parameter is ignored. By default, the Document <cite>text</cite> attribute will be used for search,
otherwise the tag field specified by <cite>index</cite> will be used. You can only use this parameter if the
storage backend supports searching by text.</p></li>
<li><p><strong>on</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – specifies a subindex to search on. If set, the returned DocumentArray will be retrieved from the given subindex.</p></li>
<li><p><strong>kwargs</strong> – other kwargs.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[DocumentArray, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[DocumentArray]]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a list of DocumentArrays containing the closest Document objects for each of the queries in <cite>query</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.flatten">
<span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.flatten" title="Permalink to this definition">#</a></dt>
<dd><p>Flatten all nested chunks and matches into one <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flatten an already flattened DocumentArray will have no effect.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a flattened <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_base64">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_base64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle-array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_base64" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_bytes">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle-array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_bytes" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_csv">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_csv" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR101
# noqa: DAR102
# noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_dataframe">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Import a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>DataFrame</em>) – a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_dict" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_files">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_files" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR101
# noqa: DAR102
# noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_huggingface_datasets">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_huggingface_datasets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_huggingface_datasets" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR101
# noqa: DAR102
# noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_json" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_lines">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_lines" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR101
# noqa: DAR102
# noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_list">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_list" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_ndarray">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_ndarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_ndarray" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR101
# noqa: DAR102
# noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_ndjson">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_ndjson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_ndjson" title="Permalink to this definition">#</a></dt>
<dd><p># noqa: DAR101
# noqa: DAR102
# noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_protobuf">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_protobuf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_protobuf" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>T</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_pydantic_model">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_pydantic_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_pydantic_model" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a list of PydanticDocument into DocumentArray</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[BaseModel]) – the list of pydantic data model objects that represents a DocumentArray</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a DocumentArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.from_strawberry_type">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_strawberry_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.from_strawberry_type" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a list of Strawberry into DocumentArray</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[StrawberryDocument]) – the list of strawberry type objects that represents a DocumentArray</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a DocumentArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.get_json_schema">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_json_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.get_json_schema" title="Permalink to this definition">#</a></dt>
<dd><p>Return a JSON Schema of DocumentArray class.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.get_vocabulary">
<span class="sig-name descname"><span class="pre">get_vocabulary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('text',)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.get_vocabulary" title="Permalink to this definition">#</a></dt>
<dd><p>Get the text vocabulary in a dict that maps from the word to the index from all Documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text_attrs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code>]) – the textual attributes where vocabulary will be derived from</p></li>
<li><p><strong>min_freq</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the minimum word frequency to be considered into the vocabulary.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a vocabulary in dictionary where key is the word, value is the index. The value is 2-index, where
<cite>0</cite> is reserved for padding, <cite>1</cite> is reserved for unknown token.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">integer</span> <span class="pre">--</span> <span class="pre">return</span> <span class="pre">first</span> <span class="pre">index</span> <span class="pre">of</span> <span class="pre">value.</span></span></span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.index" title="Permalink to this definition">#</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
<p>Supporting start and stop arguments is optional, but
recommended.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.insert" title="Permalink to this definition">#</a></dt>
<dd><p>Insert <cite>doc</cite> at <cite>index</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Position of the insertion.</p></li>
<li><p><strong>value</strong> (<a class="reference internal" href="../docarray.document/#docarray.document.Document" title="docarray.document.Document"><code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code></a>) – The doc needs to be inserted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'binary'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.load" title="Permalink to this definition">#</a></dt>
<dd><p>Load array elements from a JSON or a binary file, or a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryIO</span></code>]) – File or filename to which the data is saved.</p></li>
<li><p><strong>file_format</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <cite>json</cite> or <cite>binary</cite> or <cite>csv</cite>. JSON and CSV files are human-readable,
but binary format gives much smaller size and faster save/load speed. CSV file has very limited compatability,
complex DocumentArray with nested structure can not be restored from a CSV file.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – encoding used to load data from a file (it only applies to <cite>JSON</cite> and <cite>CSV</cite> format).
By default, <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> is used.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the loaded DocumentArray object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.load_binary">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle-array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streaming</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.load_binary" title="Permalink to this definition">#</a></dt>
<dd><p>Load array elements from a compressed binary file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryIO</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>]) – File or filename or serialized bytes where the data is stored.</p></li>
<li><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – protocol to use</p></li>
<li><p><strong>compress</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – compress algorithm to use</p></li>
<li><p><strong>_show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – show progress bar, only works when protocol is <cite>pickle</cite> or <cite>protobuf</cite></p></li>
<li><p><strong>streaming</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if <cite>True</cite> returns a generator over <cite>Document</cite> objects.</p></li>
</ul>
</dd>
</dl>
<p>In case protocol is pickle the <cite>Documents</cite> are streamed from disk to save memory usage
:rtype: <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[DocumentArray, <code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[Document, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]]
:return: a DocumentArray object</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <cite>file</cite> is <cite>str</cite> it can specify <cite>protocol</cite> and <cite>compress</cite> as file extensions.
This functionality assumes <cite>file=file_name.$protocol.$compress</cite> where <cite>$protocol</cite> and <cite>$compress</cite> refer to a
string interpolation of the respective <cite>protocol</cite> and <cite>compress</cite> methods.
For example if <cite>file=my_docarray.protobuf.lz4</cite> then the binary data will be loaded assuming <cite>protocol=protobuf</cite>
and <cite>compress=lz4</cite>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.load_csv">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.load_csv" title="Permalink to this definition">#</a></dt>
<dd><p>Load array elements from a binary file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>]) – File or filename to which the data is saved.</p></li>
<li><p><strong>field_resolver</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – a map from field names defined in JSON, dict to the field
names defined in Document.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – encoding used to read a CSV file. By default, <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> is used.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a DocumentArray object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.load_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.load_json" title="Permalink to this definition">#</a></dt>
<dd><p>Load array elements from a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>]) – File or filename or a JSON string to which the data is saved.</p></li>
<li><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <cite>jsonschema</cite> or <cite>protobuf</cite></p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – encoding used to load data from a JSON file. By default, <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> is used.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a DocumentArrayLike object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thread'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_worker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.map" title="Permalink to this definition">#</a></dt>
<dd><p>Return an iterator that applies function to every <strong>element</strong> of iterable in parallel, yielding the results.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>To process on a batch of elements, please use <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.map_batch" title="docarray.array.memory.DocumentArrayInMemory.map_batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map_batch()</span></code></a>;</p></li>
<li><p>To return a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>, please use <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.apply" title="docarray.array.memory.DocumentArrayInMemory.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[Document], T]) – a function that takes <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> as input and outputs anything. You can either modify elements
in-place (only with <cite>thread</cite> backend) or work later on return elements.</p></li>
<li><p><strong>backend</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <p>if to use multi-<cite>process</cite> or multi-<cite>thread</cite> as the parallelization backend. In general, if your
<code class="docutils literal notranslate"><span class="pre">func</span></code> is IO-bound then perhaps <cite>thread</cite> is good enough. If your <code class="docutils literal notranslate"><span class="pre">func</span></code> is CPU-bound then you may use <cite>process</cite>.
In practice, you should try yourselves to figure out the best value. However, if you wish to modify the elements
in-place, regardless of IO/CPU-bound, you should always use <cite>thread</cite> backend.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using <cite>process</cite> backend, you should not expect <code class="docutils literal notranslate"><span class="pre">func</span></code> modify elements in-place. This is because
the multiprocessing backing pass the variable via pickle and work in another process. The passed object
and the original object do <strong>not</strong> share the same memory.</p>
</div>
</p></li>
<li><p><strong>num_worker</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the number of parallel workers. If not given, then the number of CPUs in the system will be used.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – show a progress bar</p></li>
<li><p><strong>pool</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[Pool, ThreadPool, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – use an existing/external pool. If given, <cite>backend</cite> is ignored and you will be responsible for closing the pool.</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>anything return from <code class="docutils literal notranslate"><span class="pre">func</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[T, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.map_batch">
<span class="sig-name descname"><span class="pre">map_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thread'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_worker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.map_batch" title="Permalink to this definition">#</a></dt>
<dd><p>Return an iterator that applies function to every <strong>minibatch</strong> of iterable in parallel, yielding the results.
Each element in the returned iterator is <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>To process single element, please use <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.map" title="docarray.array.memory.DocumentArrayInMemory.map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map()</span></code></a>;</p></li>
<li><p>To return <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>, please use <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.apply_batch" title="docarray.array.memory.DocumentArrayInMemory.apply_batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_batch()</span></code></a>.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Size of each generated batch (except the last one, which might be smaller, default: 32)</p></li>
<li><p><strong>shuffle</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If set, shuffle the Documents before dividing into minibatches.</p></li>
<li><p><strong>func</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[DocumentArray], T]) – a function that takes <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> as input and outputs anything. You can either modify elements
in-place (only with <cite>thread</cite> backend) or work later on return elements.</p></li>
<li><p><strong>backend</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <p>if to use multi-<cite>process</cite> or multi-<cite>thread</cite> as the parallelization backend. In general, if your
<code class="docutils literal notranslate"><span class="pre">func</span></code> is IO-bound then perhaps <cite>thread</cite> is good enough. If your <code class="docutils literal notranslate"><span class="pre">func</span></code> is CPU-bound then you may use <cite>process</cite>.
In practice, you should try yourselves to figure out the best value. However, if you wish to modify the elements
in-place, regardless of IO/CPU-bound, you should always use <cite>thread</cite> backend.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using <cite>process</cite> backend, you should not expect <code class="docutils literal notranslate"><span class="pre">func</span></code> modify elements in-place. This is because
the multiprocessing backing pass the variable via pickle and work in another process. The passed object
and the original object do <strong>not</strong> share the same memory.</p>
</div>
</p></li>
<li><p><strong>num_worker</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the number of parallel workers. If not given, then the number of CPUs in the system will be used.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – show a progress bar</p></li>
<li><p><strong>pool</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[Pool, ThreadPool, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – use an existing/external pool. If given, <cite>backend</cite> is ignored and you will be responsible for closing the pool.</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>anything return from <code class="docutils literal notranslate"><span class="pre">func</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[T, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">darray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cosine'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_self</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_scipy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cpu'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_worker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.match" title="Permalink to this definition">#</a></dt>
<dd><p>Compute embedding based nearest neighbour in <cite>another</cite> for each Document in <cite>self</cite>,
and store results in <cite>matches</cite>.
.. note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&#39;cosine&#39;, &#39;euclidean&#39;, &#39;sqeuclidean&#39; are supported natively without extra dependency.
You can use other distance metric provided by ``scipy``, such as `braycurtis`, `canberra`, `chebyshev`,
`cityblock`, `correlation`, `cosine`, `dice`, `euclidean`, `hamming`, `jaccard`, `jensenshannon`,
`kulsinski`, `mahalanobis`, `matching`, `minkowski`, `rogerstanimoto`, `russellrao`, `seuclidean`,
`sokalmichener`, `sokalsneath`, `sqeuclidean`, `wminkowski`, `yule`.
To use scipy metric, please set ``use_scipy=True``.
</pre></div>
</div>
<ul class="simple">
<li><p>To make all matches values in [0, 1], use <code class="docutils literal notranslate"><span class="pre">dA.match(dB,</span> <span class="pre">normalization=(0,</span> <span class="pre">1))</span></code></p></li>
<li><dl class="simple">
<dt>To invert the distance as score and make all values in range [0, 1],</dt><dd><p>use <code class="docutils literal notranslate"><span class="pre">dA.match(dB,</span> <span class="pre">normalization=(1,</span> <span class="pre">0))</span></code>. Note, how <code class="docutils literal notranslate"><span class="pre">normalization</span></code> differs from the previous.</p>
</dd>
</dl>
</li>
<li><p>If a custom metric distance is provided. Make sure that it returns scores as distances and not similarity, meaning the smaller the better.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>darray</strong> (<a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><em>DocumentArray</em></a>) – the other DocumentArray  to match against</p></li>
<li><p><strong>metric</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[ArrayType, ArrayType], <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]) – the distance metric</p></li>
<li><p><strong>limit</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the maximum number of matches, when not given defaults to 20.</p></li>
<li><p><strong>normalization</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – a tuple [a, b] to be used with min-max normalization,
the min distance will be rescaled to <cite>a</cite>, the max distance will be rescaled to <cite>b</cite>
all values will be rescaled into range <cite>[a, b]</cite>.</p></li>
<li><p><strong>metric_name</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – if provided, then match result will be marked with this string.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – if provided, then <code class="docutils literal notranslate"><span class="pre">darray</span></code> is loaded in batches, where each of them is at most <code class="docutils literal notranslate"><span class="pre">batch_size</span></code>
elements. When <cite>darray</cite> is big, this can significantly speedup the computation.</p></li>
<li><p><strong>exclude_self</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, Documents in <code class="docutils literal notranslate"><span class="pre">darray</span></code> with same <code class="docutils literal notranslate"><span class="pre">id</span></code> as the left-hand values will not be
considered as matches.</p></li>
<li><p><strong>filter</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – filter query used for pre-filtering</p></li>
<li><p><strong>only_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, then returning matches will only contain <code class="docutils literal notranslate"><span class="pre">id</span></code></p></li>
<li><p><strong>use_scipy</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, use <code class="docutils literal notranslate"><span class="pre">scipy</span></code> as the computation backend. Note, <code class="docutils literal notranslate"><span class="pre">scipy</span></code> does not support distance
on sparse matrix.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the computational device for <code class="docutils literal notranslate"><span class="pre">.match()</span></code>, can be either <cite>cpu</cite> or <cite>cuda</cite>.</p></li>
<li><p><strong>num_worker</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – <p>the number of parallel workers. If not given, then the number of CPUs in the system will be used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This argument is only effective when <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> is set.</p>
</div>
</p></li>
<li><p><strong>on</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – specifies a subindex to search on. If set, the returned DocumentArray will be retrieved from the given subindex.</p></li>
<li><p><strong>kwargs</strong> – other kwargs.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.plot_embeddings">
<span class="sig-name descname"><span class="pre">plot_embeddings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MyDocumentArray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_sprites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_image_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_server</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'127.0.0.1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tensor'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.plot_embeddings" title="Permalink to this definition">#</a></dt>
<dd><p>Interactively visualize <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.embeddings" title="docarray.array.memory.DocumentArrayInMemory.embeddings"><code class="xref py py-attr docutils literal notranslate"><span class="pre">embeddings</span></code></a> using the Embedding Projector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the title of this visualization. If you want to compare multiple embeddings at the same time,
make sure to give different names each time and set <code class="docutils literal notranslate"><span class="pre">path</span></code> to the same value.</p></li>
<li><p><strong>host</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – if set, bind the embedding-projector frontend to given host. Otherwise <cite>localhost</cite> is used.</p></li>
<li><p><strong>port</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – if set, run the embedding-projector frontend at given port. Otherwise a random port is used.</p></li>
<li><p><strong>image_sprites</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, visualize the dots using <a class="reference internal" href="../docarray.document/#docarray.document.Document.uri" title="docarray.document.Document.uri"><code class="xref py py-attr docutils literal notranslate"><span class="pre">uri</span></code></a> and <a class="reference internal" href="../docarray.document/#docarray.document.Document.tensor" title="docarray.document.Document.tensor"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tensor</span></code></a>.</p></li>
<li><p><strong>path</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – if set, then append the visualization to an existing folder, where you can compare multiple
embeddings at the same time. Make sure to use a different <code class="docutils literal notranslate"><span class="pre">title</span></code> each time .</p></li>
<li><p><strong>min_image_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – only used when <cite>image_sprites=True</cite>. the minimum size of the image</p></li>
<li><p><strong>channel_axis</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – only used when <cite>image_sprites=True</cite>. the axis id of the color channel, <code class="docutils literal notranslate"><span class="pre">-1</span></code> indicates the color channel info at the last axis</p></li>
<li><p><strong>start_server</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, start a HTTP server and open the frontend directly. Otherwise, you need to rely on <code class="docutils literal notranslate"><span class="pre">return</span></code> path and serve by yourself.</p></li>
<li><p><strong>image_source</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – specify where the image comes from, can be <code class="docutils literal notranslate"><span class="pre">uri</span></code> or <code class="docutils literal notranslate"><span class="pre">tensor</span></code>. empty tensor will fallback to uri</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the path to the embeddings visualization info.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.plot_image_sprites">
<span class="sig-name descname"><span class="pre">plot_image_sprites</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canvas_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">512</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tensor'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_aspect_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.plot_image_sprites" title="Permalink to this definition">#</a></dt>
<dd><p>Generate a sprite image for all image tensors in this DocumentArray-like object.</p>
<p>An image sprite is a collection of images put into a single image. It is always square-sized.
Each sub-image is also square-sized and equally-sized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – Optional path to store the visualization. If not given, show in UI</p></li>
<li><p><strong>canvas_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the size of the canvas</p></li>
<li><p><strong>min_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the minimum size of the image</p></li>
<li><p><strong>channel_axis</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the axis id of the color channel, <code class="docutils literal notranslate"><span class="pre">-1</span></code> indicates the color channel info at the last axis</p></li>
<li><p><strong>image_source</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – specify where the image comes from, can be <code class="docutils literal notranslate"><span class="pre">uri</span></code> or <code class="docutils literal notranslate"><span class="pre">tensor</span></code>. empty tensor will fallback to uri</p></li>
<li><p><strong>skip_empty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – skip Document who has no .uri or .tensor.</p></li>
<li><p><strong>show_index</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – show the index on the top-right corner of every image</p></li>
<li><p><strong>fig_size</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]) – the size of the figure</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – show a progressbar while plotting.</p></li>
<li><p><strong>keep_aspect_ratio</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – preserve the aspect ratio of the image by using the aspect ratio of the first image in self.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">item</span> <span class="pre">--</span> <span class="pre">remove</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">item</span> <span class="pre">at</span> <span class="pre">index</span> <span class="pre">(default</span> <span class="pre">last).</span></span></span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.pop" title="Permalink to this definition">#</a></dt>
<dd><p>Raise IndexError if list is empty or index is out of range.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.post" title="Permalink to this definition">#</a></dt>
<dd><p>Posting itself to a remote Flow/Sandbox and get the modified DocumentArray back</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a host string. Can be one of the following:
- <cite>grpc://192.168.0.123:8080/endpoint</cite>
- <cite>ws://192.168.0.123:8080/endpoint</cite>
- <cite>http://192.168.0.123:8080/endpoint</cite>
- <cite>jinahub://Hello/endpoint</cite>
- <cite>jinahub+docker://Hello/endpoint</cite>
- <cite>jinahub+docker://Hello/v0.0.1/endpoint</cite>
- <cite>jinahub+docker://Hello/latest/endpoint</cite>
- <cite>jinahub+sandbox://Hello/endpoint</cite></p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show a progressbar</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – number of Document on each request</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – parameters to send in the request</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the new DocumentArray returned from remote</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.pull">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.pull" title="Permalink to this definition">#</a></dt>
<dd><p>Pulling a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> from Jina Cloud Service to local.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the upload name set during <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.push" title="docarray.array.memory.DocumentArrayInMemory.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a></p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show a progress bar on pulling</p></li>
<li><p><strong>local_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – store the downloaded DocumentArray to local folder</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">branding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.push" title="Permalink to this definition">#</a></dt>
<dd><p>Push this DocumentArray object to Jina Cloud which can be later retrieved via <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.push" title="docarray.array.memory.DocumentArrayInMemory.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Push with the same <code class="docutils literal notranslate"><span class="pre">name</span></code> will override the existing content.</p></li>
<li><p>Kinda like a public clipboard where everyone can override anyone’s content.
So to make your content survive longer, you may want to use longer &amp; more complicated name.</p></li>
<li><p>The lifetime of the content is not promised atm, could be a day, could be a week. Do not use it for
persistence. Only use this full temporary transmission/storage/clipboard.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a name that later can be used for retrieve this <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show a progress bar on pulling</p></li>
<li><p><strong>public</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – by default anyone can pull a DocumentArray if they know its name.
Setting this to False will allow only the creator to pull it. This feature of course you to login first.</p></li>
<li><p><strong>branding</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – a dict of branding information to be sent to Jina Cloud. {“icon”: “emoji”, “background”: “#fff”}</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.reduce">
<span class="sig-name descname"><span class="pre">reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.reduce" title="Permalink to this definition">#</a></dt>
<dd><p>Reduces other and the current DocumentArray into one DocumentArray in-place. Changes are applied to the current
DocumentArray.
Reducing 2 DocumentArrays consists in adding Documents in the second DocumentArray to the first DocumentArray
if they do not exist. If a Document exists in both DocumentArrays, the data properties are merged with priority
to the first Document (that is, to the current DocumentArray’s Document). The matches and chunks are also
reduced in the same way.
:type other: T
:param other: DocumentArray
:rtype: T
:return: DocumentArray</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.reduce_all">
<span class="sig-name descname"><span class="pre">reduce_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.reduce_all" title="Permalink to this definition">#</a></dt>
<dd><p>Reduces a list of DocumentArrays and this DocumentArray into one DocumentArray. Changes are applied to this
DocumentArray in-place.</p>
<p>Reduction consists in reducing this DocumentArray with every DocumentArray in <cite>others</cite> sequentially using
<code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.:method:<cite>reduce</cite>.
The resulting DocumentArray contains Documents of all DocumentArrays.
If a Document exists in many DocumentArrays, data properties are merged with priority to the left-most
DocumentArrays (that is, if a data attribute is set in a Document belonging to many DocumentArrays, the
attribute value of the left-most DocumentArray is kept).
Matches and chunks of a Document belonging to many DocumentArrays are also reduced in the same way.
Other non-data properties are ignored.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><dl class="simple">
<dt>Matches are not kept in a sorted order when they are reduced. You might want to re-sort them in a later</dt><dd><p>step.</p>
</dd>
</dl>
</li>
<li><p>The final result depends on the order of DocumentArrays when applying reduction.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>others</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[T]) – List of DocumentArrays to be reduced</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the resulting DocumentArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.remove" title="Permalink to this definition">#</a></dt>
<dd><p>S.remove(value) – remove first occurrence of value.
Raise ValueError if the value is not present.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.reverse">
<span class="sig-name descname"><span class="pre">reverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.reverse" title="Permalink to this definition">#</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.sample" title="Permalink to this definition">#</a></dt>
<dd><p>random sample k elements from <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code> without replacement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of elements to sample from the document array.</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – initialize the random number generator, by default is None. If set will
save the state of the random function to produce certain outputs.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A sampled list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> represented as <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'binary'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.save" title="Permalink to this definition">#</a></dt>
<dd><p>Save array elements into a JSON, a binary file or a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryIO</span></code>]) – File or filename to which the data is saved.</p></li>
<li><p><strong>file_format</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <cite>json</cite> or <cite>binary</cite> or <cite>csv</cite>. JSON and CSV files are human-readable,
but binary format gives much smaller size and faster save/load speed. Note that, CSV file has very limited
compatability, complex DocumentArray with nested structure can not be restored from a CSV file.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – encoding used to save data into a file (it only applies to <cite>JSON</cite> and <cite>CSV</cite> format).
By default, <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> is used.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.save_binary">
<span class="sig-name descname"><span class="pre">save_binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle-array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.save_binary" title="Permalink to this definition">#</a></dt>
<dd><p>Save array elements into a binary file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryIO</span></code>]) – File or filename to which the data is saved.</p></li>
<li><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – protocol to use</p></li>
<li><p><strong>compress</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – <p>compress algorithm to use</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <cite>file</cite> is <cite>str</cite> it can specify <cite>protocol</cite> and <cite>compress</cite> as file extensions.
This functionality assumes <cite>file=file_name.$protocol.$compress</cite> where <cite>$protocol</cite> and <cite>$compress</cite> refer to a
string interpolation of the respective <cite>protocol</cite> and <cite>compress</cite> methods.
For example if <cite>file=my_docarray.protobuf.lz4</cite> then the binary data will be created using <cite>protocol=protobuf</cite>
and <cite>compress=lz4</cite>.</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<p>Comparing to <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save_json" title="docarray.array.memory.DocumentArrayInMemory.save_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_json()</span></code></a>, it is faster and the file is smaller, but not human-readable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To get a binary presentation in memory, use <code class="docutils literal notranslate"><span class="pre">bytes(...)</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.save_csv">
<span class="sig-name descname"><span class="pre">save_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flatten_tags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'excel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.save_csv" title="Permalink to this definition">#</a></dt>
<dd><p>Save array elements into a CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>]) – File or filename to which the data is saved.</p></li>
<li><p><strong>flatten_tags</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, then all fields in <code class="docutils literal notranslate"><span class="pre">Document.tags</span></code> will be flattened into <code class="docutils literal notranslate"><span class="pre">tag__fieldname</span></code> and
stored as separated columns. It is useful when <code class="docutils literal notranslate"><span class="pre">tags</span></code> contain a lot of information.</p></li>
<li><p><strong>exclude_fields</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – if set, those fields wont show up in the output CSV</p></li>
<li><p><strong>dialect</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code>]) – define a set of parameters specific to a particular CSV dialect. could be a string that represents
predefined dialects in your system, or could be a <code class="xref py py-class docutils literal notranslate"><span class="pre">csv.Dialect</span></code> class that groups specific formatting
parameters together.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – encoding used to save the data into a CSV file. By default, <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> is used.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.save_embeddings_csv">
<span class="sig-name descname"><span class="pre">save_embeddings_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.save_embeddings_csv" title="Permalink to this definition">#</a></dt>
<dd><p>Save embeddings to a CSV file</p>
<p>This function utilizes <code class="xref py py-meth docutils literal notranslate"><span class="pre">numpy.savetxt()</span></code> internal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>]) – File or filename to which the data is saved.</p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – encoding used to save the data into a file. By default, <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> is used.</p></li>
<li><p><strong>kwargs</strong> – extra kwargs will be passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">numpy.savetxt()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.save_gif">
<span class="sig-name descname"><span class="pre">save_gif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline_display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tensor'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.save_gif" title="Permalink to this definition">#</a></dt>
<dd><p>Save a gif of the DocumentArray. Each frame corresponds to a Document.uri/.tensor in the DocumentArray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the file path to save the gif to.</p></li>
<li><p><strong>channel_axis</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the color channel axis of the tensor.</p></li>
<li><p><strong>duration</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the duration of each frame in milliseconds.</p></li>
<li><p><strong>size_ratio</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – the size ratio of each frame.</p></li>
<li><p><strong>inline_display</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show the gif in Jupyter notebook.</p></li>
<li><p><strong>image_source</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the source of the image in Document atribute.</p></li>
<li><p><strong>skip_empty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to skip empty documents.</p></li>
<li><p><strong>show_index</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show the index of the document in the top-right corner.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to show a progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.save_json">
<span class="sig-name descname"><span class="pre">save_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.save_json" title="Permalink to this definition">#</a></dt>
<dd><p>Save array elements into a JSON file.</p>
<p>Comparing to <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save_binary" title="docarray.array.memory.DocumentArrayInMemory.save_binary"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_binary()</span></code></a>, it is human-readable but slower to save/load and the file size larger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>]) – File or filename to which the data is saved.</p></li>
<li><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <cite>jsonschema</cite> or <cite>protobuf</cite></p></li>
<li><p><strong>encoding</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – encoding used to save data into a JSON file. By default, <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> is used.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.shuffle" title="Permalink to this definition">#</a></dt>
<dd><p>Randomly shuffle documents within the <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>seed</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – initialize the random number generator, by default is None. If set will
save the state of the random function to produce certain outputs.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The shuffled list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> represented as <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.split_by_tag">
<span class="sig-name descname"><span class="pre">split_by_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.split_by_tag" title="Permalink to this definition">#</a></dt>
<dd><p>Split the <cite>DocumentArray</cite> into multiple DocumentArray according to the tag value of each <cite>Document</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tag</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the tag name to split stored in tags.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a dict where Documents with the same value on <cite>tag</cite> are grouped together, their orders
are preserved from the original <code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code class="xref py py-attr docutils literal notranslate"><span class="pre">tags</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> do not contains the specified <code class="xref py py-attr docutils literal notranslate"><span class="pre">tag</span></code>,
return an empty dict.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.summary" title="Permalink to this definition">#</a></dt>
<dd><p>Print the structure and attribute summary of this DocumentArray object.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Calling {meth}`.summary` on large DocumentArray can be slow.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.sync">
<span class="sig-name descname"><span class="pre">sync</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.sync" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.tensors">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tensors</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ArrayType</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.tensors" title="Permalink to this definition">#</a></dt>
<dd><p>Return a <code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayType</span></code> stacking all <a class="reference internal" href="../docarray.document/#docarray.document.Document.tensor" title="docarray.document.Document.tensor"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tensor</span></code></a>.</p>
<p>The <cite>tensor</cite> attributes are stacked together along a newly created first
dimension (as if you would stack using <code class="docutils literal notranslate"><span class="pre">np.stack(X,</span> <span class="pre">axis=0)</span></code>).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This operation assumes all tensors have the same shape and dtype.
All dtype and shape values are assumed to be equal to the values of the
first element in the DocumentArray</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[ArrayType]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayType</span></code> of tensors</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.texts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">texts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.texts" title="Permalink to this definition">#</a></dt>
<dd><p>Get <a class="reference internal" href="../docarray.document/#docarray.document.Document.text" title="docarray.document.Document.text"><code class="xref py py-attr docutils literal notranslate"><span class="pre">text</span></code></a> of all Documents</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of texts</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_base64">
<span class="sig-name descname"><span class="pre">to_base64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle-array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_base64" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_bytes">
<span class="sig-name descname"><span class="pre">to_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle-array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_file_ctx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_bytes" title="Permalink to this definition">#</a></dt>
<dd><p>Serialize itself into bytes.</p>
<p>For more Pythonic code, please use <code class="docutils literal notranslate"><span class="pre">bytes(...)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_file_ctx</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryIO</span></code>]) – File or filename or serialized bytes where the data is stored.</p></li>
<li><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – protocol to use</p></li>
<li><p><strong>compress</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – compress algorithm to use</p></li>
<li><p><strong>_show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – show progress bar, only works when protocol is <cite>pickle</cite> or <cite>protobuf</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the binary serialization in bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_dataframe">
<span class="sig-name descname"><span class="pre">to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Export itself to a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – the extra kwargs will be passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.from_dict()</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Convert the object into a Python list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <cite>jsonschema</cite> or <cite>protobuf</cite></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a Python list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_json" title="Permalink to this definition">#</a></dt>
<dd><p>Convert the object into a JSON string. Can be loaded via <a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.load_json" title="docarray.array.memory.DocumentArrayInMemory.load_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_json()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <cite>jsonschema</cite> or <cite>protobuf</cite></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a Python list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_list">
<span class="sig-name descname"><span class="pre">to_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jsonschema'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_list" title="Permalink to this definition">#</a></dt>
<dd><p>Convert the object into a Python list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>protocol</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <cite>jsonschema</cite> or <cite>protobuf</cite></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a Python list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_protobuf">
<span class="sig-name descname"><span class="pre">to_protobuf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndarray_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_protobuf" title="Permalink to this definition">#</a></dt>
<dd><p>Convert DocumentArray into a Protobuf message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ndarray_type</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – can be <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, if set it will force all ndarray-like object from all
Documents to <code class="docutils literal notranslate"><span class="pre">List</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>DocumentArrayProto</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the protobuf message</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_pydantic_model">
<span class="sig-name descname"><span class="pre">to_pydantic_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_pydantic_model" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a DocumentArray object into a Pydantic model.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="../docarray.document.pydantic_model/#docarray.document.pydantic_model.PydanticDocument" title="docarray.document.pydantic_model.PydanticDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">PydanticDocument</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.to_strawberry_type">
<span class="sig-name descname"><span class="pre">to_strawberry_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.to_strawberry_type" title="Permalink to this definition">#</a></dt>
<dd><p>Convert a DocumentArray object into a Pydantic model.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[StrawberryDocument]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.traverse">
<span class="sig-name descname"><span class="pre">traverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traversal_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.traverse" title="Permalink to this definition">#</a></dt>
<dd><p>Return an Iterator of :class:<code class="docutils literal notranslate"><span class="pre">TraversableSequence</span></code> of the leaves when applying the traversal_paths.
Each :class:<code class="docutils literal notranslate"><span class="pre">TraversableSequence</span></code> is either the root Documents, a ChunkArray or a MatchArray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traversal_paths</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a comma-separated string that represents the traversal path</p></li>
<li><p><strong>filter_fn</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<a class="reference internal" href="../docarray.document/#docarray.document.Document" title="docarray.document.Document"><code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code></a>], <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>]]) – function to filter docs during traversal</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>:class:<code class="docutils literal notranslate"><span class="pre">TraversableSequence</span></code> of the leaves when applying the traversal_paths.</p>
</dd>
</dl>
<p>Example on <code class="docutils literal notranslate"><span class="pre">traversal_paths</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>r</cite>: docs in this TraversableSequence</p></li>
<li><p><cite>m</cite>: all match-documents at adjacency 1</p></li>
<li><p><cite>c</cite>: all child-documents at granularity 1</p></li>
<li><p><cite>r.[attribute]</cite>: access attribute of a multi modal document</p></li>
<li><p><cite>cc</cite>: all child-documents at granularity 2</p></li>
<li><p><cite>mm</cite>: all match-documents at adjacency 2</p></li>
<li><p><cite>cm</cite>: all match-document at adjacency 1 and granularity 1</p></li>
<li><p><cite>r,c</cite>: docs in this TraversableSequence and all child-documents at granularity 1</p></li>
<li><p><cite>r[start:end]</cite>: access sub document array using slice</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code>[T]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.traverse_flat">
<span class="sig-name descname"><span class="pre">traverse_flat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traversal_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.traverse_flat" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a single flattened :class:<code class="docutils literal notranslate"><span class="pre">TraversableSequence</span></code> with all Documents, that are reached
via the <code class="docutils literal notranslate"><span class="pre">traversal_paths</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When defining the <code class="docutils literal notranslate"><span class="pre">traversal_paths</span></code> with multiple paths, the returned
:class:<code class="docutils literal notranslate"><span class="pre">Documents</span></code> are determined at once and not on the fly. This is a different
behavior then in :method:<code class="docutils literal notranslate"><span class="pre">traverse</span></code> and :method:<code class="docutils literal notranslate"><span class="pre">traverse_flattened_per_path</span></code>!</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traversal_paths</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a list of string that represents the traversal path</p></li>
<li><p><strong>filter_fn</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<a class="reference internal" href="../docarray.document/#docarray.document.Document" title="docarray.document.Document"><code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code></a>], <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>]]) – function to filter docs during traversal</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../docarray.array.document/#docarray.array.document.DocumentArray" title="docarray.array.document.DocumentArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a single :class:<code class="docutils literal notranslate"><span class="pre">TraversableSequence</span></code> containing the document of all leaves when applying the traversal_paths.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.traverse_flat_per_path">
<span class="sig-name descname"><span class="pre">traverse_flat_per_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traversal_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.traverse_flat_per_path" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a flattened :class:<code class="docutils literal notranslate"><span class="pre">TraversableSequence</span></code> per path in <code class="docutils literal notranslate"><span class="pre">traversal_paths</span></code>
with all Documents, that are reached by the path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traversal_paths</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a comma-separated string that represents the traversal path</p></li>
<li><p><strong>filter_fn</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<a class="reference internal" href="../docarray.document/#docarray.document.Document" title="docarray.document.Document"><code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code></a>], <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>]]) – function to filter docs during traversal</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>:class:<code class="docutils literal notranslate"><span class="pre">TraversableSequence</span></code> containing the document of all leaves per path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="docarray.array.memory.DocumentArrayInMemory.TYPE_MAP">
<span class="sig-name descname"><span class="pre">TYPE_MAP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../docarray.array.storage.base.backend/#docarray.array.storage.base.backend.TypeMap" title="docarray.array.storage.base.backend.TypeMap"><span class="pre">TypeMap</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#docarray.array.memory.DocumentArrayInMemory.TYPE_MAP" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>

                </article>
            </div>
            <footer>
                
                <div class="related-pages">
                    
                    
                </div>
                <div class="bottom-of-page">
                    <div class="left-details">
                        <div class="copyright">
                            Copyright &#169; Jina AI Limited. All rights reserved.
                        </div><div class="last-updated">
                            Last updated on Jan 17, 2023</div>
                    </div>
                    <div class="right-details">
                        <div class="social-btns">
                            <a class='social-btn' href="https://github.com/jina-ai/docarray/" aria-label="GitHub"
                               target="_blank" rel="noreferrer"> <i class="fab fa-github"></i></a>
                            <a class='social-btn' href="https://slack.jina.ai" aria-label="Slack" target="_blank"
                               rel="noreferrer"> <i class="fab fa-slack"></i></a>
                            <a class='social-btn' href="https://youtube.com/c/jina-ai" aria-label="YouTube"
                               target="_blank" rel="noreferrer"> <i class="fab fa-youtube"></i></a>
                            <a class='social-btn' href="https://twitter.com/JinaAI_" aria-label="Twitter"
                               target="_blank" rel="noreferrer"> <i class="fab fa-twitter"></i></a>
                            <a class='social-btn' href="https://www.linkedin.com/company/jinaai/" aria-label="LinkedIn"
                               target="_blank" rel="noreferrer"> <i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
                
            </footer>
        </div>
        <aside class="toc-drawer">
            
            
            <div class="toc-sticky toc-scroll">
                <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
                </div>
                <div class="toc-tree-container">
                    <div class="toc-tree">
                        <ul>
<li><a class="reference internal" href="#">docarray.array.memory module</a><ul>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory</span></code></a><ul>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.append"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.append()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.apply"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.apply()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.apply_batch"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.apply_batch()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.batch"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.batch()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.batch_ids"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.batch_ids()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.blobs"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.blobs</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.clear"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.clear()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.cloud_delete"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.cloud_delete()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.cloud_list"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.cloud_list()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.cloud_pull"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.cloud_pull()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.cloud_push"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.cloud_push()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.contents"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.contents</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.count"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.count()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.dataloader"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.dataloader()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.embed"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.embed()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.embeddings"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.embeddings</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.empty"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.empty()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.evaluate"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.evaluate()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.extend"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.extend()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.find"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.find()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.flatten"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.flatten()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_base64"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_base64()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_bytes"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_bytes()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_csv"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_csv()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_dataframe"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_dict"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_files"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_files()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_huggingface_datasets"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_huggingface_datasets()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_json"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_json()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_lines"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_lines()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_list"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_list()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_ndarray"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_ndarray()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_ndjson"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_ndjson()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_protobuf"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_protobuf()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_pydantic_model"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_pydantic_model()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.from_strawberry_type"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.from_strawberry_type()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.get_json_schema"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.get_json_schema()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.get_vocabulary"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.get_vocabulary()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.index"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.index()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.insert"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.insert()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.load"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.load()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.load_binary"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.load_binary()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.load_csv"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.load_csv()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.load_json"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.load_json()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.map"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.map()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.map_batch"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.map_batch()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.match"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.match()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.plot_embeddings"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.plot_embeddings()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.plot_image_sprites"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.plot_image_sprites()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.pop"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.pop()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.post"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.post()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.pull"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.pull()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.push"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.push()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.reduce"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.reduce()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.reduce_all"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.reduce_all()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.remove"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.remove()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.reverse"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.reverse()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.sample"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.sample()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.save()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save_binary"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.save_binary()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save_csv"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.save_csv()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save_embeddings_csv"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.save_embeddings_csv()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save_gif"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.save_gif()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.save_json"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.save_json()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.shuffle"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.shuffle()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.split_by_tag"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.split_by_tag()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.summary"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.summary()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.sync"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.sync()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.tensors"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.tensors</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.texts"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.texts</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_base64"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_base64()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_bytes"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_bytes()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_dataframe"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_dict"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_dict()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_json"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_json()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_list"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_list()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_protobuf"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_protobuf()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_pydantic_model"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_pydantic_model()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.to_strawberry_type"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.to_strawberry_type()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.traverse"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.traverse()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.traverse_flat"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.traverse_flat()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.traverse_flat_per_path"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.traverse_flat_per_path()</span></code></a></li>
<li><a class="reference internal" href="#docarray.array.memory.DocumentArrayInMemory.TYPE_MAP"><code class="docutils literal notranslate"><span class="pre">DocumentArrayInMemory.TYPE_MAP</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

                    </div>
                </div>
            </div>
            
            
        </aside>
    </div>
    <qa-bot
            title="DocArray Bot"
            description="The data structure for unstructured data"
    >
        <template>
            <dl>
                <dt>You can ask questions about our docs. Try:</dt>
                <dd>What is a DocumentArray?</dd>
                <dd>How to use docarray with Jina?</dd>
                <dd>How to find nearest neighbour of Documents?</dd>
            </dl>
        </template>
    </qa-bot>
</div>
<img referrerpolicy="no-referrer-when-downgrade"
     src="https://static.scarf.sh/a.png?x-pxid=2823e771-0e1e-4320-8fde-48bc48e53262"/><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() { 
            document.querySelector('qa-bot').setAttribute('server', 'https://jina-ai-docarray.docsqa.jina.ai');
        });
        </script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qabot@0.4"></script>
    </body>
</html>